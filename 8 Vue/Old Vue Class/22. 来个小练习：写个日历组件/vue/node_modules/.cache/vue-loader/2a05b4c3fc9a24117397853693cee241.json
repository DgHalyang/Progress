{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuzijun/Desktop/Github/Demo/19-10-01                Vue/Vue Class/22. 来个小练习：写个日历组件/vue/Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuzijun/Desktop/Github/Demo/19-10-01                Vue/Vue Class/22. 来个小练习：写个日历组件/vue/Calendar.vue","mtime":1576743955629},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      year: null,\r\n      month: null,\r\n      day: null,\r\n      curDate: null\r\n    }\r\n  },\r\n  created () {\r\n    this.getInitTime();\r\n  },\r\n  methods: {\r\n    getInitTime () {\r\n      const date = new Date();\r\n      this.year = date.getFullYear();\r\n      this.month = date.getMonth() + 1;\r\n      this.day = date.getDate();\r\n      this.curDate = `${this.year}-${this.month}-${this.day}`\r\n    },\r\n    handleChooseDay (e) {\r\n      console.log(e.target.dataset)\r\n      this.day = e.target.dataset.day;\r\n    },\r\n    handlePrev () {\r\n      if(this.month === 1) {\r\n        this.month = 12;\r\n        this.year --;\r\n      } else {\r\n        this.month --;        \r\n      }\r\n      this.computedDay();\r\n    },\r\n    handleNext () {\r\n      if(this.month === 12) {\r\n        this.month = 1;\r\n        this.year ++;\r\n      } else {\r\n        this.month ++;\r\n      }\r\n      this.computedDay();\r\n    },\r\n    computedDay () {\r\n      const allDay = new Date(this.year, this.month, 0).getDate();\r\n      if(this.day > allDay) {\r\n        this.day = allDay;\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    beginDay () {\r\n      return new Date(this.year, this.month - 1, 1).getDay();\r\n    },\r\n    curDays () {\r\n      // 一三五七八十腊，三十一天永不差。\r\n      // 四六九冬三十整，唯有二月二十八。\r\n      // 逢到闰年加一日，如果不加就算差。\r\n      // 闰年：\r\n      // 1、普通年能被4整除且不能被100整除的为闰年。（如2004年就是闰年,1900年不是闰年）\r\n      // 2、世纪年能被400整除的是闰年。(如2000年是闰年，1900年不是闰年)\r\n      // 3、对于数值很大的年份,这年如果能整除3200，并且能整除172800则是闰年。\r\n\r\n      return new Date(this.year, this.month, 0).getDate();\r\n    },\r\n    prevDays () {\r\n      return new Date(this.year, this.month - 1, 0).getDate();\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calendar.vue","sourceRoot":".","sourcesContent":["<template>\r\n  <div class=\"calendar\">\r\n    <div class=\"date-header\">\r\n      <div class=\"prev-month\" @click=\"handlePrev\"/>\r\n      <div class=\"show-date\">{{year}}年{{month}}月{{day}}日</div>\r\n      <div class=\"next-month\" @click=\"handleNext\"/>\r\n    </div>\r\n    <div class=\"date-content\">\r\n      <div class=\"week-header\">\r\n        <div\r\n          v-for=\"item in ['日dsss', '一', '二', '三', '四', '五', '六']\"\r\n          :key=\"item\"\r\n        >\r\n          {{ item }}\r\n        </div>\r\n      </div>\r\n      <div class=\"week-day\">\r\n        <div \r\n          class=\"every-day\"\r\n          v-for=\"item in 42\"\r\n          :key=\"item\"\r\n        >\r\n          \r\n          <div \r\n            v-if=\"item - beginDay > 0 && item - beginDay <= curDays\"\r\n            :class=\"{\r\n              'now-day': `${year}-${month}-${item-beginDay}` === curDate,\r\n              'active-day': `${year}-${month}-${item-beginDay}` === `${year}-${month}-${day}`\r\n            }\"\r\n            :data-day=\"item - beginDay\"\r\n            @click=\"handleChooseDay\"\r\n          >{{ item - beginDay }}</div>\r\n          <div class=\"other-day\" v-else-if=\"item - beginDay <= 0\">{{ item - beginDay + prevDays }}</div>\r\n          <div class=\"other-day\" v-else>{{ item - curDays - beginDay }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      year: null,\r\n      month: null,\r\n      day: null,\r\n      curDate: null\r\n    }\r\n  },\r\n  created () {\r\n    this.getInitTime();\r\n  },\r\n  methods: {\r\n    getInitTime () {\r\n      const date = new Date();\r\n      this.year = date.getFullYear();\r\n      this.month = date.getMonth() + 1;\r\n      this.day = date.getDate();\r\n      this.curDate = `${this.year}-${this.month}-${this.day}`\r\n    },\r\n    handleChooseDay (e) {\r\n      console.log(e.target.dataset)\r\n      this.day = e.target.dataset.day;\r\n    },\r\n    handlePrev () {\r\n      if(this.month === 1) {\r\n        this.month = 12;\r\n        this.year --;\r\n      } else {\r\n        this.month --;        \r\n      }\r\n      this.computedDay();\r\n    },\r\n    handleNext () {\r\n      if(this.month === 12) {\r\n        this.month = 1;\r\n        this.year ++;\r\n      } else {\r\n        this.month ++;\r\n      }\r\n      this.computedDay();\r\n    },\r\n    computedDay () {\r\n      const allDay = new Date(this.year, this.month, 0).getDate();\r\n      if(this.day > allDay) {\r\n        this.day = allDay;\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    beginDay () {\r\n      return new Date(this.year, this.month - 1, 1).getDay();\r\n    },\r\n    curDays () {\r\n      // 一三五七八十腊，三十一天永不差。\r\n      // 四六九冬三十整，唯有二月二十八。\r\n      // 逢到闰年加一日，如果不加就算差。\r\n      // 闰年：\r\n      // 1、普通年能被4整除且不能被100整除的为闰年。（如2004年就是闰年,1900年不是闰年）\r\n      // 2、世纪年能被400整除的是闰年。(如2000年是闰年，1900年不是闰年)\r\n      // 3、对于数值很大的年份,这年如果能整除3200，并且能整除172800则是闰年。\r\n\r\n      return new Date(this.year, this.month, 0).getDate();\r\n    },\r\n    prevDays () {\r\n      return new Date(this.year, this.month - 1, 0).getDate();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .calendar {\r\n    width: 500px;\r\n    margin-left: 100px;\r\n  }\r\n\r\n  .date-header {\r\n    width: 100%;\r\n    display: flex;\r\n    line-height: 30px;\r\n  }\r\n\r\n  .prev-month,\r\n  .next-month {\r\n    border: 15px solid transparent;\r\n    width: 0;\r\n    height: 0;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .prev-month {\r\n    border-right-color: #007fff;\r\n  }\r\n\r\n  .next-month {\r\n    border-left-color: #007fff;\r\n  }\r\n\r\n  .show-date {\r\n    flex: 1;\r\n    text-align: center;\r\n    color: #007fff;\r\n  }\r\n  .week-header {\r\n    display: flex;\r\n  }\r\n\r\n  .week-header > div {\r\n    flex: 1;\r\n    text-align: center;\r\n    line-height: 30px;\r\n    background-color: #007fff;\r\n    color: #fff;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .week-day {\r\n    width: 100%;\r\n  }\r\n  .every-day {\r\n    \r\n    display: inline-block;\r\n    width: 14.28%;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n  }\r\n  .other-day {\r\n    color: #ccc;\r\n  }\r\n  .now-day {\r\n    background-color: #007fff;\r\n    color: #fff;\r\n    font-weight: 600;\r\n  }\r\n  .active-day:not(.now-day) {\r\n    color: #007fff;\r\n    border: 2px solid #007fff;\r\n    line-height: 46px;\r\n  }\r\n</style>"]}]}